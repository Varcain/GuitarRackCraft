diff --git a/src/util/detect_os.h b/src/util/detect_os.h
--- a/src/util/detect_os.h
+++ b/src/util/detect_os.h
@@ -24,7 +24,7 @@
  * Android defines __linux__, so DETECT_OS_LINUX and DETECT_OS_POSIX will
  * also be defined.
  */
-#if defined(__ANDROID__)
+#if defined(__ANDROID__) && !defined(MESA_FORCE_LINUX)
 #define DETECT_OS_ANDROID 1
 #endif
